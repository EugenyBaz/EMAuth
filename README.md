# Название проекта
Проект "EMAuth"
Система управления доступом к ресурсам (БД) с разграничением прав пользователей

## Содержание
В проекте созданы следующие приложения:
- users - управление пользователями и ролями
- catalog - управление продуктами (CRUD, тестовые данные, Mock-View)

## Технологии

- Python 3.12
- Django 5.2.7
- Django REST Framework 3.16
- PostgreSQL
- JWT аутентификация (djangorestframework-simplejwt)
- Pytest, coverage 

## Использование


## Разработка
- Создан проект Django и подключен Django REST Framework.
- Создана база данных PostgreSQL для хранения пользователей, продуктов и ролей.
- Реализованы модели и CRUD-операции для пользователей и продуктов.
- Настроена JWT-аутентификация (djangorestframework-simplejwt).
- Настроена система разграничения прав доступа: пользователи, модераторы, администраторы.
- Реализованы тестовые данные через фикстуру 'test_load_data.json'.
- Создан Mock-View для демонстрации работы системы прав доступа без реальной БД продуктов:
 - Возвращает список доступных продуктов.
 - Если пользователь не залогинен → 401 Unauthorized.
 - Если пользователь не имеет доступа к объекту → 403 Forbidden.
 - Настроены автоматические тесты CRUD для продуктов и пользователей.


## Функционал

### Пользователи

- Регистрация: ввод имени (фамилия, отчество), email, пароля и подтверждения пароля 
- Login/Logout:вход и выход по email и паролю
- Обновление профиля: редактирование своих данных 
- Удаление пользователя: Удаление аккаунта (мягкое) — пользователь инициирует удаление → logout
Аккаунт остаётся в базе с `is_active=False. После удаления пользователь не может залогиниться

### Роли и права доступа

- users - создавать, редактировать, удалять и просматривать только свои продукты 
- moders - редактировать чужие продукты, но не удалять 
- admins - полный доступ ко всем объектам, управление ролями, назначение и удаление пользователей из групп

Проверка доступа:

- Если пользователь 'не залогинен' → 401 Unauthorized  
- Если пользователь 'не имеет доступа к ресурсу' → 403 Forbidden  
- Иначе → возвращает запрашиваемый ресурс


### Тестовые данные

- Фикстура `test_load_data.json` используется для загрузки тестовых данных  
- Команда для загрузки:

python manage.py loaddata catalog/fixtures/test_load_data.json


### Требования


### Установка зависимостей

poetry install

### Запуск Development сервера

python manage.py runserver

### Создание билда


## Тестирование
- Написаны тесты CRUD для Product
- Покрытие приложения catalog >85%

Команды для запуска тестов и coverage:

pytest --cov=catalog
coverage report


## Deploy и CI/CD


## Contributing

## FAQ 

## To do

## Команда проекта

- [Евгений Базавод]  back-end developer

## Источники
